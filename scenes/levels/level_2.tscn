[gd_scene load_steps=26 format=3 uid="uid://cljexgm46jj47"]

[ext_resource type="PackedScene" uid="uid://dnw5ilawv3gd4" path="res://scenes/levels/track_mesh.tscn" id="1_ndlae"]
[ext_resource type="PackedScene" uid="uid://b1lqrsav6jgk7" path="res://scenes/ship.tscn" id="5_sibr7"]
[ext_resource type="PackedScene" uid="uid://b3ghog3f33nbe" path="res://scenes/replay_controller.tscn" id="6_lkn2k"]
[ext_resource type="PackedScene" uid="uid://bwn0gfx6baet5" path="res://scenes/goal.tscn" id="7_sbygb"]
[ext_resource type="PackedScene" uid="uid://c2i2xnuagapim" path="res://scenes/gate_danger.tscn" id="8_5niy6"]
[ext_resource type="PackedScene" uid="uid://b5bopckenjkp" path="res://scenes/gate_safe.tscn" id="9_wikm6"]
[ext_resource type="Texture2D" uid="uid://ienii211san3" path="res://assets/environment/gravelly_sand_diff_1k.jpg" id="11_1a10c"]
[ext_resource type="Texture2D" uid="uid://dp6mjv31mtp04" path="res://assets/environment/kloppenheim_02_puresky_1k.hdr" id="12_mx6s3"]
[ext_resource type="PackedScene" uid="uid://bkmqnufwq5qpr" path="res://assets/vfx/god_ray/god_ray.tscn" id="14_r6ket"]
[ext_resource type="Shader" uid="uid://cgawimi57wdb1" path="res://assets/vfx/god_ray/god_ray.gdshader" id="15_xworo"]
[ext_resource type="PackedScene" uid="uid://dlocim2hjhsib" path="res://assets/environment/lake_level.glb" id="16_wwjag"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cpeqc"]
albedo_color = Color(0.85, 0.629, 0.629, 1)
albedo_texture = ExtResource("11_1a10c")
uv1_scale = Vector3(100, 100, 100)
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_4q1sw"]
material = SubResource("StandardMaterial3D_cpeqc")
size = Vector2(20000, 20000)

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_pjnwa"]
panorama = ExtResource("12_mx6s3")
filter = false
energy_multiplier = 0.5

[sub_resource type="Sky" id="Sky_rk3j2"]
sky_material = SubResource("PanoramaSkyMaterial_pjnwa")

[sub_resource type="Environment" id="Environment_cpeqc"]
background_mode = 2
sky = SubResource("Sky_rk3j2")
glow_intensity = 0.0
fog_enabled = true
fog_light_color = Color(0.2975, 0.317625, 0.35, 1)
fog_light_energy = 0.6
fog_density = 0.005
fog_sky_affect = 0.2
volumetric_fog_albedo = Color(4, 2, 1, 1)
volumetric_fog_anisotropy = 0.9
volumetric_fog_length = 5.0

[sub_resource type="FastNoiseLite" id="FastNoiseLite_mnbks"]
noise_type = 3
seed = 1823
fractal_type = 3
fractal_lacunarity = 1.0
fractal_gain = 1.0
fractal_weighted_strength = 0.5

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_rqm5n"]
seamless = true
noise = SubResource("FastNoiseLite_mnbks")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_41xju"]
noise_type = 3
fractal_type = 3
fractal_lacunarity = 1.0
fractal_gain = 1.0
fractal_weighted_strength = 0.5
fractal_ping_pong_strength = 2.2

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_k8aq6"]
seamless = true
noise = SubResource("FastNoiseLite_41xju")

[sub_resource type="Gradient" id="Gradient_dlkyn"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(0.672167, 0.494907, 0.140582, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_fttee"]
noise_type = 3
fractal_type = 3
fractal_lacunarity = 0.5

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_eygnq"]
seamless = true
color_ramp = SubResource("Gradient_dlkyn")
noise = SubResource("FastNoiseLite_fttee")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vbnsl"]
render_priority = 0
shader = ExtResource("15_xworo")
shader_parameter/texture_to_scroll = SubResource("NoiseTexture2D_eygnq")
shader_parameter/noise_tex = SubResource("NoiseTexture2D_k8aq6")
shader_parameter/alpha_noise = SubResource("NoiseTexture2D_rqm5n")
shader_parameter/blend_amount = 0.25
shader_parameter/scroll_speed = 0.1
shader_parameter/angle_degrees = 110.0

[sub_resource type="Curve3D" id="Curve3D_qsp8v"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -28.9711, 0, -0.0879551, -50, 0, 0, 50, 0, 0, 449.097, 0, -0.181293, 0, 0, -100, 0, 0, 50, 613.74, 50, 100.417, -50, 0, -20, 30, 0, 5, 597.955, 150, 233.989, -30, 0, 0, 50, 0, 0, 702.793, 170, 217.859, 0, 0, -40, 0, 0, 40, 802.24, 190, 302.152, 50, 0, 0, -50, 0, 0, 706.581, 220, 384.551, 50, 0, 30, -50, 0, -30, 510.335, 240, 317.239, 50, 0, 30, -50, 0, -30, 423.683, 190, 266.309, 30, 0, 20, -40, 0, -30, 347.259, 220, 219.574, 5, 0, 15, -5, 0, -20, 303.429, 220, 168.862, 0, 0, 50, 0, 0, -50, 271.727, 233.283, 41.2734, 0, 0, 20, 0, 0, -20, 300.32, 224.275, -78.1353, 0, 0, 20, 0, 0, -40, 300.251, 220, -166.164, 50, 0, 0, -50, 0, 0, 189.356, 220, -232.215, 30, 0, 0, -40, 0, 0, 63.079, 220, -127.611, 20, 0, 0, -30, 0, 0, 1.229, 220, -130.188, 40, 0, 0, -30, 0, 0, -200.646, 220, -65.076, 0, 0, -35, 0, 0, 35, -260.362, 220, -28.318, -15, 10, 0, 30, -20, 0, -214.892, 190, 0.914, -50, 0, 0, 50, 0, 0, -108.1, 0, 0.102205, 0, 0, 0, 0, 0, 0, -57.0433, -0.328186, 0.102173),
"tilts": PackedFloat32Array(0, 0, 0.2, 0, 1.1, 0.8, 0.5, 0.25, 0.3, 0.3, 1, 2, 1, -0.2, 0, 0.8, 0.4, 0.4, -0.3, -0.1, 0, 0)
}
point_count = 22

[node name="basic_track" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707107, 0.541675, -0.454519, 0, 0.642788, 0.766044, 0.707107, -0.541675, 0.454519, 0, 0, 0)
light_color = Color(0.97, 0.89434, 0.7178, 1)
light_energy = 2.5
light_angular_distance = 20.0
light_bake_mode = 1
shadow_enabled = true
directional_shadow_mode = 1
directional_shadow_split_1 = 0.3
directional_shadow_blend_splits = true
directional_shadow_max_distance = 200.0

[node name="Ship" parent="." instance=ExtResource("5_sibr7")]
transform = Transform3D(-0.0926485, 0, -0.995699, 0, 1, 0, 0.995699, 0, -0.0926485, 34.4991, 12.3721, -0.16252)

[node name="ReplayController" parent="." instance=ExtResource("6_lkn2k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24.8383, 172.361, -0.454557)

[node name="Goal" parent="." instance=ExtResource("7_sbygb")]
transform = Transform3D(0.999363, 0, 0.0356842, 0, 1, 0, -0.0356842, 0, 0.999363, 18.51, 16.5699, -0.105562)

[node name="DangerGate" parent="Goal" instance=ExtResource("8_5niy6")]
transform = Transform3D(1, 0, 1.86265e-08, 0, 1, 0, -1.86265e-08, 0, 1, 67.6, -8.41568, 2.41379)

[node name="SafeGate" parent="Goal/DangerGate" instance=ExtResource("9_wikm6")]
transform = Transform3D(1, 0, 3.72529e-09, 0, 1, 0, -3.72529e-09, 0, 1, -95.6914, 0, -3.41685)

[node name="Ground" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -100, 0)
mesh = SubResource("PlaneMesh_4q1sw")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_cpeqc")

[node name="GodRay" parent="." instance=ExtResource("14_r6ket")]
transform = Transform3D(5.47213, -6.70552e-08, -2.51098, 2.18365, 2.8961, 0.42829, 8.08007, -0.782676, 1.58478, 690.706, 11.6873, -11.1182)
material_override = SubResource("ShaderMaterial_vbnsl")
cast_shadow = 0
visibility_range_end = 150.0
visibility_range_fade_mode = 1

[node name="lake_level" parent="." instance=ExtResource("16_wwjag")]
visible = false

[node name="TrackPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_qsp8v")

[node name="track_mesh" parent="TrackPath" instance=ExtResource("1_ndlae")]

[node name="track_floor" parent="TrackPath/track_mesh" index="0"]
path_node = NodePath("../..")

[node name="track_rail2" parent="TrackPath/track_mesh" index="1"]
path_node = NodePath("../..")

[node name="track_rail1" parent="TrackPath/track_mesh" index="2"]
path_node = NodePath("../..")

[node name="wall1" parent="TrackPath/track_mesh" index="3"]
path_node = NodePath("../..")

[node name="wall2" parent="TrackPath/track_mesh" index="4"]
path_node = NodePath("../..")

[editable path="TrackPath/track_mesh"]
